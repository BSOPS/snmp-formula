{% set snmp  = {
    'lookup': salt['grains.filter_by']({
        'RedHat': {
            'pkg': 'net-snmp',
            'pkgutils': 'net-snmp-utils',
            'service': 'snmpd',
            'servicetrap': 'snmptrapd',
            'config': '/etc/snmp/snmpd.conf',
            'configtrap': '/etc/snmp/snmptrapd.conf',
            'options': '/etc/sysconfig/snmpd',
            'optionstrap': '/etc/sysconfig/snmptrapd',
            'source': 'salt://snmp/files/snmpd.conf',
            'sourcetrap': 'salt://snmp/files/snmptrapd.conf',
            'sourceoptions': 'salt://snmp/files/snmpd.options',
            'sourceoptionstrap': 'salt://snmp/files/snmptrapd.options',
        },
        'Debian': {
            'pkg': 'snmp',
            'pkgutils': 'snmp-utils',
            'service': 'snmpd',
            'servicetrap': 'snmptrapd',
            'config': '/etc/snmp/snmpd.conf',
            'configtrap': '/etc/snmp/snmptrapd.conf',
            'options': '/etc/sysconfig/snmpd',
            'optionstrap': '/etc/sysconfig/snmptrapd',
            'source': 'salt://snmp/files/snmpd.conf',
            'sourcetrap': 'salt://snmp/files/snmptrapd.conf',
            'sourceoptions': 'salt://snmp/files/snmpd.options',
            'sourceoptionstrap': 'salt://snmp/files/snmptrapd.options',
        },
    }, default='RedHat', merge=salt['grains.filter_by']({
        'Red Hat Enterprise Linux Server-6': {
            'sourceoptions': 'salt://snmp/files/snmpd.options.redhat6',
        },
        'Red Hat Enterprise Linux Server-5': {
            'sourceoptions': 'salt://snmp/files/snmpd.options.redhat5',
        },
    }, grain='osfinger', merge=salt['pillar.get']('snmp:lookup'))),
    'settings': salt['pillar.get']('snmp:conf:settings', {
    }),
} %}
